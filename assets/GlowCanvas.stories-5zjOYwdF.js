import{j as r}from"./jsx-runtime-D_zvdyIk.js";import{r as s}from"./index-D4lIrffr.js";import{G as ee}from"./GlowCard-Cw-SdvFf.js";import{G as x}from"./GlowIconButton-DYTUiHIS.js";import{s as N}from"./styled-DketRv4I.js";import{B as te}from"./Box-84RDQgna.js";import"./emotion-react.browser.esm-CzyYH6Xe.js";import"./IconButton-jhZesD6s.js";import"./generateUtilityClasses-CPRdC64H.js";import"./DefaultPropsProvider-Bcp8l54b.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./useId-DF_PSzS1.js";import"./ButtonBase-IUfDptLI.js";import"./useTimeout-COwD6Zpp.js";import"./useForkRef-zqhjcRVs.js";import"./isFocusVisible-B8k4qzLc.js";import"./CircularProgress-DcGBhv6q.js";import"./useTheme-BIUNiYwk.js";import"./extendSxProp-B_2SO387.js";const re=N("div")({display:"flex",gap:10,padding:"9px 14px 7px 14px",alignItems:"center",background:"linear-gradient(90deg,#101031 42%,#38bdf822 120%)",borderRadius:"22px 22px 0 0",borderBottom:"2.5px solid #232547"}),oe=N(ee)({padding:0,overflow:"hidden",borderRadius:26,background:"linear-gradient(120deg, #1a193d 60%, #38bdf844 120%)",boxShadow:"0 0 46px 12px #05ffa144",position:"relative",userSelect:"none"}),j=["#8b5cf6","#05ffa1","#38bdf8","#f472b6","#facc15","#fb7185"],b=({width:a=420,height:c=320,lineWidth:H=6,color:I=j[0],style:U})=>{const i=s.useRef(null),[w,v]=s.useState(!1),[f,A]=s.useState(I),[g,$]=s.useState(H),[y,l]=s.useState([]),J=()=>l(t=>t.slice(0,-1)),X=()=>l([]),Y=()=>{var e;const t=(e=i.current)==null?void 0:e.toDataURL("image/png");if(t){const o=document.createElement("a");o.href=t,o.download="glow-canvas.png",o.click()}};s.useEffect(()=>{const t=i.current;if(!t)return;const e=t.getContext("2d");if(e){e.clearRect(0,0,t.width,t.height),e.lineCap="round",e.lineJoin="round";for(const o of y)e.save(),e.strokeStyle=o.color,e.shadowColor=o.color,e.lineWidth=o.width,e.shadowBlur=16+Math.max(10,o.width*2),e.beginPath(),o.points.forEach((n,Z)=>{Z===0?e.moveTo(n.x,n.y):e.lineTo(n.x,n.y)}),e.stroke(),e.restore()}},[y,a,c]);const C=t=>{var o,n;const e=t.target.getBoundingClientRect();return{x:Math.round((t.clientX-e.left)*(((o=i.current)==null?void 0:o.width)/e.width)),y:Math.round((t.clientY-e.top)*(((n=i.current)==null?void 0:n.height)/e.height))}},z=t=>{v(!0);const e=C(t);l(o=>o.concat({color:f,width:g,points:[e]}))},F=t=>{if(!w)return;const e=C(t);l(o=>{const n=o.slice();return n[n.length-1]={...n[n.length-1],points:[...n[n.length-1].points,e]},n})},k=()=>v(!1),K=typeof a=="number"?a:420,Q=typeof c=="number"?c:320;return r.jsxs(oe,{style:{width:a,minWidth:230,...U},children:[r.jsxs(re,{children:[r.jsx(x,{title:"Undo",onClick:J,shape:"circle",children:r.jsxs("svg",{width:"19",height:"19",viewBox:"0 0 19 19",children:[r.jsx("path",{d:"M7.2 2.8 2.5 7.5l4.7 4.7",stroke:"#fff",strokeWidth:"2.1",strokeLinecap:"round",fill:"none"}),r.jsx("path",{d:"M4.4 7.6h5.8a5 5 0 1 1 0 10H7",stroke:"#05ffa1",strokeWidth:"1.7",strokeLinecap:"round",fill:"none"})]})}),r.jsx(x,{title:"Clear",onClick:X,shape:"circle",children:r.jsxs("svg",{width:"19",height:"19",viewBox:"0 0 19 19",children:[r.jsx("rect",{x:"3.8",y:"3.9",width:"11.4",height:"11.5",rx:"2.6",fill:"#8b5cf6",stroke:"#fff",strokeWidth:"2"}),r.jsx("path",{d:"M6 13 13 6M13 13 6 6",stroke:"#fff",strokeWidth:"2.1",strokeLinecap:"round"})]})}),r.jsx(x,{title:"Download as PNG",onClick:Y,shape:"circle",children:r.jsxs("svg",{width:"19",height:"19",viewBox:"0 0 19 19",children:[r.jsx("path",{d:"M9.5 2v12.5m0 0-4.5-4.5m4.5 4.5 4.5-4.5",stroke:"#8b5cf6",strokeWidth:"1.7",strokeLinecap:"round",fill:"none"}),r.jsx("rect",{x:"3.3",y:"15.2",width:"12.3",height:"1.3",rx:"0.6",fill:"#05ffa1"})]})}),r.jsx("span",{style:{marginLeft:12},children:"Color: "}),j.map((t,e)=>r.jsx("button",{style:{background:t,width:22,height:22,border:t===f?"2.3px solid #fff":"2.3px solid #222c",borderRadius:7,outline:t===f?"2px solid #05ffa1":"none",margin:"0 3px",boxShadow:`0 0 14px ${t}66`,cursor:"pointer",transition:"border .12s",position:"relative"},"aria-label":`Pick color ${t}`,onClick:()=>A(t)},e)),r.jsx("span",{style:{marginLeft:14},children:"Width: "}),r.jsx("input",{type:"range",min:2,max:20,value:g,style:{height:2,verticalAlign:"middle",marginLeft:4},onChange:t=>$(+t.target.value)}),r.jsx("span",{style:{minWidth:20,display:"inline-block",marginLeft:3},children:g})]}),r.jsx(te,{sx:{background:"transparent",position:"relative",width:"100%",minHeight:180},children:r.jsx("canvas",{ref:i,width:K,height:Q,style:{width:"100%",height:c,touchAction:"none",cursor:w?"crosshair":"pointer",background:"radial-gradient(ellipse at top left, #101031 60%, #8b5cf622 100%)",borderBottomLeftRadius:0,borderBottomRightRadius:0,display:"block"},onPointerDown:z,onPointerMove:F,onPointerUp:k,onPointerLeave:k})})]})};try{b.displayName="GlowCanvas",b.__docgenInfo={description:"",displayName:"GlowCanvas",props:{width:{defaultValue:{value:"420"},description:"",name:"width",required:!1,type:{name:"string | number | undefined"}},height:{defaultValue:{value:"320"},description:"",name:"height",required:!1,type:{name:"string | number | undefined"}},lineWidth:{defaultValue:{value:"6"},description:"",name:"lineWidth",required:!1,type:{name:"number | undefined"}},color:{defaultValue:{value:"COLORS[0]"},description:"",name:"color",required:!1,type:{name:"string | undefined"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties | undefined"}}}}}catch{}const ke={title:"Components/GlowCanvas",component:b,argTypes:{width:{control:{type:"number",min:100,max:900,step:10}},height:{control:{type:"number",min:100,max:800,step:10}},lineWidth:{control:{type:"number",min:2,max:20,step:1}},color:{control:"color"}},args:{width:420,height:320,lineWidth:6,color:"#8b5cf6"}},d={},p={args:{width:700,height:480}},h={args:{width:280,height:180}},u={args:{lineWidth:13}},m={args:{color:"#fb7185"}};var S,W,L;d.parameters={...d.parameters,docs:{...(S=d.parameters)==null?void 0:S.docs,source:{originalSource:"{}",...(L=(W=d.parameters)==null?void 0:W.docs)==null?void 0:L.source}}};var R,P,B;p.parameters={...p.parameters,docs:{...(R=p.parameters)==null?void 0:R.docs,source:{originalSource:`{
  args: {
    width: 700,
    height: 480
  }
}`,...(B=(P=p.parameters)==null?void 0:P.docs)==null?void 0:B.source}}};var G,_,M;h.parameters={...h.parameters,docs:{...(G=h.parameters)==null?void 0:G.docs,source:{originalSource:`{
  args: {
    width: 280,
    height: 180
  }
}`,...(M=(_=h.parameters)==null?void 0:_.docs)==null?void 0:M.source}}};var D,E,T;u.parameters={...u.parameters,docs:{...(D=u.parameters)==null?void 0:D.docs,source:{originalSource:`{
  args: {
    lineWidth: 13
  }
}`,...(T=(E=u.parameters)==null?void 0:E.docs)==null?void 0:T.source}}};var q,O,V;m.parameters={...m.parameters,docs:{...(q=m.parameters)==null?void 0:q.docs,source:{originalSource:`{
  args: {
    color: '#fb7185'
  }
}`,...(V=(O=m.parameters)==null?void 0:O.docs)==null?void 0:V.source}}};const je=["Default","LargeCanvas","SmallCanvas","ThickerPen","CustomColor"];export{m as CustomColor,d as Default,p as LargeCanvas,h as SmallCanvas,u as ThickerPen,je as __namedExportsOrder,ke as default};
