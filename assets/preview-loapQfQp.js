var Tr=Object.defineProperty;var Nr=(e,t,r)=>t in e?Tr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var q=(e,t,r)=>Nr(e,typeof t!="symbol"?t+"":t,r);import"./index-Cf3xVBfy.js";const{once:Ar}=__STORYBOOK_MODULE_CLIENT_LOGGER__,{FORCE_REMOUNT:ve,STORY_RENDER_PHASE_CHANGED:Mr,SET_CURRENT_STORY:Ir}=__STORYBOOK_MODULE_CORE_EVENTS__,{addons:Rr}=__STORYBOOK_MODULE_PREVIEW_API__,{global:P}=__STORYBOOK_MODULE_GLOBAL__;var Lr=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')}),Pr={reset:[0,0],bold:[1,22,"\x1B[22m\x1B[1m"],dim:[2,22,"\x1B[22m\x1B[2m"],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]},Dr=Object.entries(Pr);function Ue(e){return String(e)}Ue.open="";Ue.close="";function jr(e=!1){let t=typeof process<"u"?process:void 0,r=(t==null?void 0:t.env)||{},n=(t==null?void 0:t.argv)||[];return!("NO_COLOR"in r||n.includes("--no-color"))&&("FORCE_COLOR"in r||n.includes("--color")||(t==null?void 0:t.platform)==="win32"||e&&r.TERM!=="dumb"||"CI"in r)||typeof window<"u"&&!!window.chrome}function Fr(e=!1){let t=jr(e),r=(u,s,c,a)=>{let o="",h=0;do o+=u.substring(h,a)+c,h=a+s.length,a=u.indexOf(s,h);while(~a);return o+u.substring(h)},n=(u,s,c=u)=>{let a=o=>{let h=String(o),y=h.indexOf(s,u.length);return~y?u+r(h,s,c,y)+s:u+h+s};return a.open=u,a.close=s,a},i={isColorSupported:t},l=u=>`\x1B[${u}m`;for(let[u,s]of Dr)i[u]=t?n(l(s[0]),l(s[1]),s[2]):Ue;return i}var v=Fr(!1);function Br(e,t){let r=Object.keys(e),n=t===null?r:r.sort(t);if(Object.getOwnPropertySymbols)for(let i of Object.getOwnPropertySymbols(e))Object.getOwnPropertyDescriptor(e,i).enumerable&&n.push(i);return n}function $e(e,t,r,n,i,l,u=": "){let s="",c=0,a=e.next();if(!a.done){s+=t.spacingOuter;let o=r+t.indent;for(;!a.done;){if(s+=o,c++===t.maxWidth){s+="…";break}let h=l(a.value[0],t,o,n,i),y=l(a.value[1],t,o,n,i);s+=h+u+y,a=e.next(),a.done?t.min||(s+=","):s+=`,${t.spacingInner}`}s+=t.spacingOuter+r}return s}function Ke(e,t,r,n,i,l){let u="",s=0,c=e.next();if(!c.done){u+=t.spacingOuter;let a=r+t.indent;for(;!c.done;){if(u+=a,s++===t.maxWidth){u+="…";break}u+=l(c.value,t,a,n,i),c=e.next(),c.done?t.min||(u+=","):u+=`,${t.spacingInner}`}u+=t.spacingOuter+r}return u}function Oe(e,t,r,n,i,l){let u="";e=e instanceof ArrayBuffer?new DataView(e):e;let s=a=>a instanceof DataView,c=s(e)?e.byteLength:e.length;if(c>0){u+=t.spacingOuter;let a=r+t.indent;for(let o=0;o<c;o++){if(u+=a,o===t.maxWidth){u+="…";break}(s(e)||o in e)&&(u+=l(s(e)?e.getInt8(o):e[o],t,a,n,i)),o<c-1?u+=`,${t.spacingInner}`:t.min||(u+=",")}u+=t.spacingOuter+r}return u}function We(e,t,r,n,i,l){let u="",s=Br(e,t.compareKeys);if(s.length>0){u+=t.spacingOuter;let c=r+t.indent;for(let a=0;a<s.length;a++){let o=s[a],h=l(o,t,c,n,i),y=l(e[o],t,c,n,i);u+=`${c+h}: ${y}`,a<s.length-1?u+=`,${t.spacingInner}`:t.min||(u+=",")}u+=t.spacingOuter+r}return u}var xr=typeof Symbol=="function"&&Symbol.for?Symbol.for("jest.asymmetricMatcher"):1267621,Ce=" ",kr=(e,t,r,n,i,l)=>{let u=e.toString();if(u==="ArrayContaining"||u==="ArrayNotContaining")return++n>t.maxDepth?`[${u}]`:`${u+Ce}[${Oe(e.sample,t,r,n,i,l)}]`;if(u==="ObjectContaining"||u==="ObjectNotContaining")return++n>t.maxDepth?`[${u}]`:`${u+Ce}{${We(e.sample,t,r,n,i,l)}}`;if(u==="StringMatching"||u==="StringNotMatching"||u==="StringContaining"||u==="StringNotContaining")return u+Ce+l(e.sample,t,r,n,i);if(typeof e.toAsymmetricMatcher!="function")throw new TypeError(`Asymmetric matcher ${e.constructor.name} does not implement toAsymmetricMatcher()`);return e.toAsymmetricMatcher()},zr=e=>e&&e.$$typeof===xr,Ur={serialize:kr,test:zr},Kr=" ",Wt=new Set(["DOMStringMap","NamedNodeMap"]),Wr=/^(?:HTML\w*Collection|NodeList)$/;function Yr(e){return Wt.has(e)||Wr.test(e)}var qr=e=>e&&e.constructor&&!!e.constructor.name&&Yr(e.constructor.name);function Vr(e){return e.constructor.name==="NamedNodeMap"}var Gr=(e,t,r,n,i,l)=>{let u=e.constructor.name;return++n>t.maxDepth?`[${u}]`:(t.min?"":u+Kr)+(Wt.has(u)?`{${We(Vr(e)?[...e].reduce((s,c)=>(s[c.name]=c.value,s),{}):{...e},t,r,n,i,l)}}`:`[${Oe([...e],t,r,n,i,l)}]`)},Hr={serialize:Gr,test:qr};function Yt(e){return e.replaceAll("<","&lt;").replaceAll(">","&gt;")}function Ye(e,t,r,n,i,l,u){let s=n+r.indent,c=r.colors;return e.map(a=>{let o=t[a],h=u(o,r,s,i,l);return typeof o!="string"&&(h.includes(`
`)&&(h=r.spacingOuter+s+h+r.spacingOuter+n),h=`{${h}}`),`${r.spacingInner+n+c.prop.open+a+c.prop.close}=${c.value.open}${h}${c.value.close}`}).join("")}function qe(e,t,r,n,i,l){return e.map(u=>t.spacingOuter+r+(typeof u=="string"?qt(u,t):l(u,t,r,n,i))).join("")}function qt(e,t){let r=t.colors.content;return r.open+Yt(e)+r.close}function Jr(e,t){let r=t.colors.comment;return`${r.open}<!--${Yt(e)}-->${r.close}`}function Ve(e,t,r,n,i){let l=n.colors.tag;return`${l.open}<${e}${t&&l.close+t+n.spacingOuter+i+l.open}${r?`>${l.close}${r}${n.spacingOuter}${i}${l.open}</${e}`:`${t&&!n.min?"":" "}/`}>${l.close}`}function Ge(e,t){let r=t.colors.tag;return`${r.open}<${e}${r.close} …${r.open} />${r.close}`}var Xr=1,Vt=3,Gt=8,Ht=11,Zr=/^(?:(?:HTML|SVG)\w*)?Element$/;function Qr(e){try{return typeof e.hasAttribute=="function"&&e.hasAttribute("is")}catch{return!1}}function vr(e){let t=e.constructor.name,{nodeType:r,tagName:n}=e,i=typeof n=="string"&&n.includes("-")||Qr(e);return r===Xr&&(Zr.test(t)||i)||r===Vt&&t==="Text"||r===Gt&&t==="Comment"||r===Ht&&t==="DocumentFragment"}var en=e=>{var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)&&vr(e)};function tn(e){return e.nodeType===Vt}function rn(e){return e.nodeType===Gt}function Te(e){return e.nodeType===Ht}var nn=(e,t,r,n,i,l)=>{if(tn(e))return qt(e.data,t);if(rn(e))return Jr(e.data,t);let u=Te(e)?"DocumentFragment":e.tagName.toLowerCase();return++n>t.maxDepth?Ge(u,t):Ve(u,Ye(Te(e)?[]:Array.from(e.attributes,s=>s.name).sort(),Te(e)?{}:[...e.attributes].reduce((s,c)=>(s[c.name]=c.value,s),{}),t,r+t.indent,n,i,l),qe(Array.prototype.slice.call(e.childNodes||e.children),t,r+t.indent,n,i,l),t,r)},ln={serialize:nn,test:en},un="@@__IMMUTABLE_ITERABLE__@@",sn="@@__IMMUTABLE_LIST__@@",on="@@__IMMUTABLE_KEYED__@@",cn="@@__IMMUTABLE_MAP__@@",et="@@__IMMUTABLE_ORDERED__@@",an="@@__IMMUTABLE_RECORD__@@",gn="@@__IMMUTABLE_SEQ__@@",hn="@@__IMMUTABLE_SET__@@",fn="@@__IMMUTABLE_STACK__@@",ge=e=>`Immutable.${e}`,Ee=e=>`[${e}]`,me=" ",tt="…";function mn(e,t,r,n,i,l,u){return++n>t.maxDepth?Ee(ge(u)):`${ge(u)+me}{${$e(e.entries(),t,r,n,i,l)}}`}function pn(e){let t=0;return{next(){if(t<e._keys.length){let r=e._keys[t++];return{done:!1,value:[r,e.get(r)]}}return{done:!0,value:void 0}}}}function yn(e,t,r,n,i,l){let u=ge(e._name||"Record");return++n>t.maxDepth?Ee(u):`${u+me}{${$e(pn(e),t,r,n,i,l)}}`}function bn(e,t,r,n,i,l){let u=ge("Seq");return++n>t.maxDepth?Ee(u):e[on]?`${u+me}{${e._iter||e._object?$e(e.entries(),t,r,n,i,l):tt}}`:`${u+me}[${e._iter||e._array||e._collection||e._iterable?Ke(e.values(),t,r,n,i,l):tt}]`}function Ne(e,t,r,n,i,l,u){return++n>t.maxDepth?Ee(ge(u)):`${ge(u)+me}[${Ke(e.values(),t,r,n,i,l)}]`}var _n=(e,t,r,n,i,l)=>e[cn]?mn(e,t,r,n,i,l,e[et]?"OrderedMap":"Map"):e[sn]?Ne(e,t,r,n,i,l,"List"):e[hn]?Ne(e,t,r,n,i,l,e[et]?"OrderedSet":"Set"):e[fn]?Ne(e,t,r,n,i,l,"Stack"):e[gn]?bn(e,t,r,n,i,l):yn(e,t,r,n,i,l),Sn=e=>e&&(e[un]===!0||e[an]===!0),On={serialize:_n,test:Sn},rt={exports:{}},C={},nt;function $n(){if(nt)return C;nt=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),s=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),a=Symbol.for("react.suspense"),o=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),m;m=Symbol.for("react.module.reference");function p(g){if(typeof g=="object"&&g!==null){var b=g.$$typeof;switch(b){case e:switch(g=g.type,g){case r:case i:case n:case a:case o:return g;default:switch(g=g&&g.$$typeof,g){case s:case u:case c:case y:case h:case l:return g;default:return b}}case t:return b}}}return C.ContextConsumer=u,C.ContextProvider=l,C.Element=e,C.ForwardRef=c,C.Fragment=r,C.Lazy=y,C.Memo=h,C.Portal=t,C.Profiler=i,C.StrictMode=n,C.Suspense=a,C.SuspenseList=o,C.isAsyncMode=function(){return!1},C.isConcurrentMode=function(){return!1},C.isContextConsumer=function(g){return p(g)===u},C.isContextProvider=function(g){return p(g)===l},C.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===e},C.isForwardRef=function(g){return p(g)===c},C.isFragment=function(g){return p(g)===r},C.isLazy=function(g){return p(g)===y},C.isMemo=function(g){return p(g)===h},C.isPortal=function(g){return p(g)===t},C.isProfiler=function(g){return p(g)===i},C.isStrictMode=function(g){return p(g)===n},C.isSuspense=function(g){return p(g)===a},C.isSuspenseList=function(g){return p(g)===o},C.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===r||g===i||g===n||g===a||g===o||g===f||typeof g=="object"&&g!==null&&(g.$$typeof===y||g.$$typeof===h||g.$$typeof===l||g.$$typeof===u||g.$$typeof===c||g.$$typeof===m||g.getModuleId!==void 0)},C.typeOf=p,C}var it;function En(){return it||(it=1,rt.exports=$n()),rt.exports}var ie=En();function Jt(e,t=[]){if(Array.isArray(e))for(let r of e)Jt(r,t);else e!=null&&e!==!1&&e!==""&&t.push(e);return t}function lt(e){let t=e.type;if(typeof t=="string")return t;if(typeof t=="function")return t.displayName||t.name||"Unknown";if(ie.isFragment(e))return"React.Fragment";if(ie.isSuspense(e))return"React.Suspense";if(typeof t=="object"&&t!==null){if(ie.isContextProvider(e))return"Context.Provider";if(ie.isContextConsumer(e))return"Context.Consumer";if(ie.isForwardRef(e)){if(t.displayName)return t.displayName;let r=t.render.displayName||t.render.name||"";return r===""?"ForwardRef":`ForwardRef(${r})`}if(ie.isMemo(e)){let r=t.displayName||t.type.displayName||t.type.name||"";return r===""?"Memo":`Memo(${r})`}}return"UNDEFINED"}function dn(e){let{props:t}=e;return Object.keys(t).filter(r=>r!=="children"&&t[r]!==void 0).sort()}var wn=(e,t,r,n,i,l)=>++n>t.maxDepth?Ge(lt(e),t):Ve(lt(e),Ye(dn(e),e.props,t,r+t.indent,n,i,l),qe(Jt(e.props.children),t,r+t.indent,n,i,l),t,r),Cn=e=>e!=null&&ie.isElement(e),Tn={serialize:wn,test:Cn},Nn=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.test.json"):245830487;function An(e){let{props:t}=e;return t?Object.keys(t).filter(r=>t[r]!==void 0).sort():[]}var Mn=(e,t,r,n,i,l)=>++n>t.maxDepth?Ge(e.type,t):Ve(e.type,e.props?Ye(An(e),e.props,t,r+t.indent,n,i,l):"",e.children?qe(e.children,t,r+t.indent,n,i,l):"",t,r),In=e=>e&&e.$$typeof===Nn,Rn={serialize:Mn,test:In},Xt=Object.prototype.toString,Ln=Date.prototype.toISOString,Pn=Error.prototype.toString,ut=RegExp.prototype.toString;function Ae(e){return typeof e.constructor=="function"&&e.constructor.name||"Object"}function Dn(e){return typeof window<"u"&&e===window}var jn=/^Symbol\((.*)\)(.*)$/,Fn=/\n/g,Zt=class extends Error{constructor(e,t){super(e),this.stack=t,this.name=this.constructor.name}};function Bn(e){return e==="[object Array]"||e==="[object ArrayBuffer]"||e==="[object DataView]"||e==="[object Float32Array]"||e==="[object Float64Array]"||e==="[object Int8Array]"||e==="[object Int16Array]"||e==="[object Int32Array]"||e==="[object Uint8Array]"||e==="[object Uint8ClampedArray]"||e==="[object Uint16Array]"||e==="[object Uint32Array]"}function xn(e){return Object.is(e,-0)?"-0":String(e)}function kn(e){return`${e}n`}function st(e,t){return t?`[Function ${e.name||"anonymous"}]`:"[Function]"}function ot(e){return String(e).replace(jn,"Symbol($1)")}function ct(e){return`[${Pn.call(e)}]`}function Qt(e,t,r,n){if(e===!0||e===!1)return`${e}`;if(e===void 0)return"undefined";if(e===null)return"null";let i=typeof e;if(i==="number")return xn(e);if(i==="bigint")return kn(e);if(i==="string")return n?`"${e.replaceAll(/"|\\/g,"\\$&")}"`:`"${e}"`;if(i==="function")return st(e,t);if(i==="symbol")return ot(e);let l=Xt.call(e);return l==="[object WeakMap]"?"WeakMap {}":l==="[object WeakSet]"?"WeakSet {}":l==="[object Function]"||l==="[object GeneratorFunction]"?st(e,t):l==="[object Symbol]"?ot(e):l==="[object Date]"?Number.isNaN(+e)?"Date { NaN }":Ln.call(e):l==="[object Error]"?ct(e):l==="[object RegExp]"?r?ut.call(e).replaceAll(/[$()*+.?[\\\]^{|}]/g,"\\$&"):ut.call(e):e instanceof Error?ct(e):null}function vt(e,t,r,n,i,l){if(i.includes(e))return"[Circular]";i=[...i],i.push(e);let u=++n>t.maxDepth,s=t.min;if(t.callToJSON&&!u&&e.toJSON&&typeof e.toJSON=="function"&&!l)return te(e.toJSON(),t,r,n,i,!0);let c=Xt.call(e);return c==="[object Arguments]"?u?"[Arguments]":`${s?"":"Arguments "}[${Oe(e,t,r,n,i,te)}]`:Bn(c)?u?`[${e.constructor.name}]`:`${s||!t.printBasicPrototype&&e.constructor.name==="Array"?"":`${e.constructor.name} `}[${Oe(e,t,r,n,i,te)}]`:c==="[object Map]"?u?"[Map]":`Map {${$e(e.entries(),t,r,n,i,te," => ")}}`:c==="[object Set]"?u?"[Set]":`Set {${Ke(e.values(),t,r,n,i,te)}}`:u||Dn(e)?`[${Ae(e)}]`:`${s||!t.printBasicPrototype&&Ae(e)==="Object"?"":`${Ae(e)} `}{${We(e,t,r,n,i,te)}}`}function zn(e){return e.serialize!=null}function er(e,t,r,n,i,l){let u;try{u=zn(e)?e.serialize(t,r,n,i,l,te):e.print(t,s=>te(s,r,n,i,l),s=>{let c=n+r.indent;return c+s.replaceAll(Fn,`
${c}`)},{edgeSpacing:r.spacingOuter,min:r.min,spacing:r.spacingInner},r.colors)}catch(s){throw new Zt(s.message,s.stack)}if(typeof u!="string")throw new TypeError(`pretty-format: Plugin must return type "string" but instead returned "${typeof u}".`);return u}function tr(e,t){for(let r of e)try{if(r.test(t))return r}catch(n){throw new Zt(n.message,n.stack)}return null}function te(e,t,r,n,i,l){let u=tr(t.plugins,e);if(u!==null)return er(u,e,t,r,n,i);let s=Qt(e,t.printFunctionName,t.escapeRegex,t.escapeString);return s!==null?s:vt(e,t,r,n,i,l)}var He={comment:"gray",content:"reset",prop:"yellow",tag:"cyan",value:"green"},rr=Object.keys(He),K={callToJSON:!0,compareKeys:void 0,escapeRegex:!1,escapeString:!0,highlight:!1,indent:2,maxDepth:Number.POSITIVE_INFINITY,maxWidth:Number.POSITIVE_INFINITY,min:!1,plugins:[],printBasicPrototype:!0,printFunctionName:!0,theme:He};function Un(e){for(let t of Object.keys(e))if(!Object.prototype.hasOwnProperty.call(K,t))throw new Error(`pretty-format: Unknown option "${t}".`);if(e.min&&e.indent!==void 0&&e.indent!==0)throw new Error('pretty-format: Options "min" and "indent" cannot be used together.')}function Kn(){return rr.reduce((e,t)=>{let r=He[t],n=r&&v[r];if(n&&typeof n.close=="string"&&typeof n.open=="string")e[t]=n;else throw new Error(`pretty-format: Option "theme" has a key "${t}" whose value "${r}" is undefined in ansi-styles.`);return e},Object.create(null))}function Wn(){return rr.reduce((e,t)=>(e[t]={close:"",open:""},e),Object.create(null))}function nr(e){return(e==null?void 0:e.printFunctionName)??K.printFunctionName}function ir(e){return(e==null?void 0:e.escapeRegex)??K.escapeRegex}function lr(e){return(e==null?void 0:e.escapeString)??K.escapeString}function at(e){return{callToJSON:(e==null?void 0:e.callToJSON)??K.callToJSON,colors:e!=null&&e.highlight?Kn():Wn(),compareKeys:typeof(e==null?void 0:e.compareKeys)=="function"||(e==null?void 0:e.compareKeys)===null?e.compareKeys:K.compareKeys,escapeRegex:ir(e),escapeString:lr(e),indent:e!=null&&e.min?"":Yn((e==null?void 0:e.indent)??K.indent),maxDepth:(e==null?void 0:e.maxDepth)??K.maxDepth,maxWidth:(e==null?void 0:e.maxWidth)??K.maxWidth,min:(e==null?void 0:e.min)??K.min,plugins:(e==null?void 0:e.plugins)??K.plugins,printBasicPrototype:(e==null?void 0:e.printBasicPrototype)??!0,printFunctionName:nr(e),spacingInner:e!=null&&e.min?" ":`
`,spacingOuter:e!=null&&e.min?"":`
`}}function Yn(e){return Array.from({length:e+1}).join(" ")}function V(e,t){if(t&&(Un(t),t.plugins)){let n=tr(t.plugins,e);if(n!==null)return er(n,e,at(t),"",0,[])}let r=Qt(e,nr(t),ir(t),lr(t));return r!==null?r:vt(e,at(t),"",0,[])}var ur={AsymmetricMatcher:Ur,DOMCollection:Hr,DOMElement:ln,Immutable:On,ReactElement:Tn,ReactTestComponent:Rn},gt={bold:["1","22"],dim:["2","22"],italic:["3","23"],underline:["4","24"],inverse:["7","27"],hidden:["8","28"],strike:["9","29"],black:["30","39"],red:["31","39"],green:["32","39"],yellow:["33","39"],blue:["34","39"],magenta:["35","39"],cyan:["36","39"],white:["37","39"],brightblack:["30;1","39"],brightred:["31;1","39"],brightgreen:["32;1","39"],brightyellow:["33;1","39"],brightblue:["34;1","39"],brightmagenta:["35;1","39"],brightcyan:["36;1","39"],brightwhite:["37;1","39"],grey:["90","39"]},qn={special:"cyan",number:"yellow",bigint:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",symbol:"green",date:"magenta",regexp:"red"},he="…";function Vn(e,t){let r=gt[qn[t]]||gt[t]||"";return r?`\x1B[${r[0]}m${String(e)}\x1B[${r[1]}m`:String(e)}function Gn({showHidden:e=!1,depth:t=2,colors:r=!1,customInspect:n=!0,showProxy:i=!1,maxArrayLength:l=1/0,breakLength:u=1/0,seen:s=[],truncate:c=1/0,stylize:a=String}={},o){let h={showHidden:!!e,depth:Number(t),colors:!!r,customInspect:!!n,showProxy:!!i,maxArrayLength:Number(l),breakLength:Number(u),truncate:Number(c),seen:s,inspect:o,stylize:a};return h.colors&&(h.stylize=Vn),h}function Hn(e){return e>="\uD800"&&e<="\uDBFF"}function re(e,t,r=he){e=String(e);let n=r.length,i=e.length;if(n>t&&i>n)return r;if(i>t&&i>n){let l=t-n;return l>0&&Hn(e[l-1])&&(l=l-1),`${e.slice(0,l)}${r}`}return e}function W(e,t,r,n=", "){r=r||t.inspect;let i=e.length;if(i===0)return"";let l=t.truncate,u="",s="",c="";for(let a=0;a<i;a+=1){let o=a+1===e.length,h=a+2===e.length;c=`${he}(${e.length-a})`;let y=e[a];t.truncate=l-u.length-(o?0:n.length);let f=s||r(y,t)+(o?"":n),m=u.length+f.length,p=m+c.length;if(o&&m>l&&u.length+c.length<=l||!o&&!h&&p>l||(s=o?"":r(e[a+1],t)+(h?"":n),!o&&h&&p>l&&m+s.length>l))break;if(u+=f,!o&&!h&&m+s.length>=l){c=`${he}(${e.length-a-1})`;break}c=""}return`${u}${c}`}function Jn(e){return e.match(/^[a-zA-Z_][a-zA-Z_0-9]*$/)?e:JSON.stringify(e).replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'")}function pe([e,t],r){return r.truncate-=2,typeof e=="string"?e=Jn(e):typeof e!="number"&&(e=`[${r.inspect(e,r)}]`),r.truncate-=e.length,t=r.inspect(t,r),`${e}: ${t}`}function Xn(e,t){let r=Object.keys(e).slice(e.length);if(!e.length&&!r.length)return"[]";t.truncate-=4;let n=W(e,t);t.truncate-=n.length;let i="";return r.length&&(i=W(r.map(l=>[l,e[l]]),t,pe)),`[ ${n}${i?`, ${i}`:""} ]`}var Zn=e=>typeof Buffer=="function"&&e instanceof Buffer?"Buffer":e[Symbol.toStringTag]?e[Symbol.toStringTag]:e.constructor.name;function Z(e,t){let r=Zn(e);t.truncate-=r.length+4;let n=Object.keys(e).slice(e.length);if(!e.length&&!n.length)return`${r}[]`;let i="";for(let u=0;u<e.length;u++){let s=`${t.stylize(re(e[u],t.truncate),"number")}${u===e.length-1?"":", "}`;if(t.truncate-=s.length,e[u]!==e.length&&t.truncate<=3){i+=`${he}(${e.length-e[u]+1})`;break}i+=s}let l="";return n.length&&(l=W(n.map(u=>[u,e[u]]),t,pe)),`${r}[ ${i}${l?`, ${l}`:""} ]`}function Qn(e,t){let r=e.toJSON();if(r===null)return"Invalid Date";let n=r.split("T"),i=n[0];return t.stylize(`${i}T${re(n[1],t.truncate-i.length-1)}`,"date")}function ht(e,t){let r=e[Symbol.toStringTag]||"Function",n=e.name;return n?t.stylize(`[${r} ${re(n,t.truncate-11)}]`,"special"):t.stylize(`[${r}]`,"special")}function vn([e,t],r){return r.truncate-=4,e=r.inspect(e,r),r.truncate-=e.length,t=r.inspect(t,r),`${e} => ${t}`}function ei(e){let t=[];return e.forEach((r,n)=>{t.push([n,r])}),t}function ti(e,t){return e.size-1<=0?"Map{}":(t.truncate-=7,`Map{ ${W(ei(e),t,vn)} }`)}var ri=Number.isNaN||(e=>e!==e);function ft(e,t){return ri(e)?t.stylize("NaN","number"):e===1/0?t.stylize("Infinity","number"):e===-1/0?t.stylize("-Infinity","number"):e===0?t.stylize(1/e===1/0?"+0":"-0","number"):t.stylize(re(String(e),t.truncate),"number")}function mt(e,t){let r=re(e.toString(),t.truncate-1);return r!==he&&(r+="n"),t.stylize(r,"bigint")}function ni(e,t){let r=e.toString().split("/")[2],n=t.truncate-(2+r.length),i=e.source;return t.stylize(`/${re(i,n)}/${r}`,"regexp")}function ii(e){let t=[];return e.forEach(r=>{t.push(r)}),t}function li(e,t){return e.size===0?"Set{}":(t.truncate-=7,`Set{ ${W(ii(e),t)} }`)}var pt=new RegExp("['\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]","g"),ui={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","'":"\\'","\\":"\\\\"},si=16;function oi(e){return ui[e]||`\\u${`0000${e.charCodeAt(0).toString(si)}`.slice(-4)}`}function yt(e,t){return pt.test(e)&&(e=e.replace(pt,oi)),t.stylize(`'${re(e,t.truncate-2)}'`,"string")}function bt(e){return"description"in Symbol.prototype?e.description?`Symbol(${e.description})`:"Symbol()":e.toString()}var sr=()=>"Promise{…}";try{let{getPromiseDetails:e,kPending:t,kRejected:r}=process.binding("util");Array.isArray(e(Promise.resolve()))&&(sr=(n,i)=>{let[l,u]=e(n);return l===t?"Promise{<pending>}":`Promise${l===r?"!":""}{${i.inspect(u,i)}}`})}catch{}var ci=sr;function Se(e,t){let r=Object.getOwnPropertyNames(e),n=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[];if(r.length===0&&n.length===0)return"{}";if(t.truncate-=4,t.seen=t.seen||[],t.seen.includes(e))return"[Circular]";t.seen.push(e);let i=W(r.map(s=>[s,e[s]]),t,pe),l=W(n.map(s=>[s,e[s]]),t,pe);t.seen.pop();let u="";return i&&l&&(u=", "),`{ ${i}${u}${l} }`}var Me=typeof Symbol<"u"&&Symbol.toStringTag?Symbol.toStringTag:!1;function ai(e,t){let r="";return Me&&Me in e&&(r=e[Me]),r=r||e.constructor.name,(!r||r==="_class")&&(r="<Anonymous Class>"),t.truncate-=r.length,`${r}${Se(e,t)}`}function gi(e,t){return e.length===0?"Arguments[]":(t.truncate-=13,`Arguments[ ${W(e,t)} ]`)}var hi=["stack","line","column","name","message","fileName","lineNumber","columnNumber","number","description","cause"];function fi(e,t){let r=Object.getOwnPropertyNames(e).filter(u=>hi.indexOf(u)===-1),n=e.name;t.truncate-=n.length;let i="";if(typeof e.message=="string"?i=re(e.message,t.truncate):r.unshift("message"),i=i?`: ${i}`:"",t.truncate-=i.length+5,t.seen=t.seen||[],t.seen.includes(e))return"[Circular]";t.seen.push(e);let l=W(r.map(u=>[u,e[u]]),t,pe);return`${n}${i}${l?` { ${l} }`:""}`}function mi([e,t],r){return r.truncate-=3,t?`${r.stylize(String(e),"yellow")}=${r.stylize(`"${t}"`,"string")}`:`${r.stylize(String(e),"yellow")}`}function De(e,t){return W(e,t,or,`
`)}function or(e,t){let r=e.getAttributeNames(),n=e.tagName.toLowerCase(),i=t.stylize(`<${n}`,"special"),l=t.stylize(">","special"),u=t.stylize(`</${n}>`,"special");t.truncate-=n.length*2+5;let s="";r.length>0&&(s+=" ",s+=W(r.map(o=>[o,e.getAttribute(o)]),t,mi," ")),t.truncate-=s.length;let c=t.truncate,a=De(e.children,t);return a&&a.length>c&&(a=`${he}(${e.children.length})`),`${i}${s}${l}${a}${u}`}var pi=typeof Symbol=="function"&&typeof Symbol.for=="function",Ie=pi?Symbol.for("chai/inspect"):"@@chai/inspect",oe=!1;try{let e=Lr("util");oe=e.inspect?e.inspect.custom:!1}catch{oe=!1}var _t=new WeakMap,St={},Ot={undefined:(e,t)=>t.stylize("undefined","undefined"),null:(e,t)=>t.stylize("null","null"),boolean:(e,t)=>t.stylize(String(e),"boolean"),Boolean:(e,t)=>t.stylize(String(e),"boolean"),number:ft,Number:ft,bigint:mt,BigInt:mt,string:yt,String:yt,function:ht,Function:ht,symbol:bt,Symbol:bt,Array:Xn,Date:Qn,Map:ti,Set:li,RegExp:ni,Promise:ci,WeakSet:(e,t)=>t.stylize("WeakSet{…}","special"),WeakMap:(e,t)=>t.stylize("WeakMap{…}","special"),Arguments:gi,Int8Array:Z,Uint8Array:Z,Uint8ClampedArray:Z,Int16Array:Z,Uint16Array:Z,Int32Array:Z,Uint32Array:Z,Float32Array:Z,Float64Array:Z,Generator:()=>"",DataView:()=>"",ArrayBuffer:()=>"",Error:fi,HTMLCollection:De,NodeList:De},yi=(e,t,r)=>Ie in e&&typeof e[Ie]=="function"?e[Ie](t):oe&&oe in e&&typeof e[oe]=="function"?e[oe](t.depth,t):"inspect"in e&&typeof e.inspect=="function"?e.inspect(t.depth,t):"constructor"in e&&_t.has(e.constructor)?_t.get(e.constructor)(e,t):St[r]?St[r](e,t):"",bi=Object.prototype.toString;function je(e,t={}){let r=Gn(t,je),{customInspect:n}=r,i=e===null?"null":typeof e;if(i==="object"&&(i=bi.call(e).slice(8,-1)),i in Ot)return Ot[i](e,r);if(n&&e){let u=yi(e,r,i);if(u)return typeof u=="string"?u:je(u,r)}let l=e?Object.getPrototypeOf(e):!1;return l===Object.prototype||l===null?Se(e,r):e&&typeof HTMLElement=="function"&&e instanceof HTMLElement?or(e,r):"constructor"in e?e.constructor!==Object?ai(e,r):Se(e,r):e===Object(e)?Se(e,r):r.stylize(String(e),i)}var{AsymmetricMatcher:_i,DOMCollection:Si,DOMElement:Oi,Immutable:$i,ReactElement:Ei,ReactTestComponent:di}=ur,$t=[di,Ei,Oi,Si,$i,_i];function ye(e,t=10,{maxLength:r,...n}={}){let i=r??1e4,l;try{l=V(e,{maxDepth:t,escapeString:!1,plugins:$t,...n})}catch{l=V(e,{callToJSON:!1,maxDepth:t,escapeString:!1,plugins:$t,...n})}return l.length>=i&&t>1?ye(e,Math.floor(t/2)):l}var wi=/%[sdjifoOc%]/g;function Ci(...e){if(typeof e[0]!="string"){let l=[];for(let u=0;u<e.length;u++)l.push(fe(e[u],{depth:0,colors:!1}));return l.join(" ")}let t=e.length,r=1,n=e[0],i=String(n).replace(wi,l=>{if(l==="%%")return"%";if(r>=t)return l;switch(l){case"%s":{let u=e[r++];return typeof u=="bigint"?`${u.toString()}n`:typeof u=="number"&&u===0&&1/u<0?"-0":typeof u=="object"&&u!==null?fe(u,{depth:0,colors:!1}):String(u)}case"%d":{let u=e[r++];return typeof u=="bigint"?`${u.toString()}n`:Number(u).toString()}case"%i":{let u=e[r++];return typeof u=="bigint"?`${u.toString()}n`:Number.parseInt(String(u)).toString()}case"%f":return Number.parseFloat(String(e[r++])).toString();case"%o":return fe(e[r++],{showHidden:!0,showProxy:!0});case"%O":return fe(e[r++]);case"%c":return r++,"";case"%j":try{return JSON.stringify(e[r++])}catch(u){let s=u.message;if(s.includes("circular structure")||s.includes("cyclic structures")||s.includes("cyclic object"))return"[Circular]";throw u}default:return l}});for(let l=e[r];r<t;l=e[++r])l===null||typeof l!="object"?i+=` ${l}`:i+=` ${fe(l)}`;return i}function fe(e,t={}){return t.truncate===0&&(t.truncate=Number.POSITIVE_INFINITY),je(e,t)}function Ti(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ni(e){return e===Object.prototype||e===Function.prototype||e===RegExp.prototype}function Fe(e){return Object.prototype.toString.apply(e).slice(8,-1)}function Ai(e,t){let r=typeof t=="function"?t:n=>t.add(n);Object.getOwnPropertyNames(e).forEach(r),Object.getOwnPropertySymbols(e).forEach(r)}function cr(e){let t=new Set;return Ni(e)?[]:(Ai(e,t),Array.from(t))}var ar={forceWritable:!1};function Et(e,t=ar){return Be(e,new WeakMap,t)}function Be(e,t,r=ar){let n,i;if(t.has(e))return t.get(e);if(Array.isArray(e)){for(i=Array.from({length:n=e.length}),t.set(e,i);n--;)i[n]=Be(e[n],t,r);return i}if(Object.prototype.toString.call(e)==="[object Object]"){i=Object.create(Object.getPrototypeOf(e)),t.set(e,i);let l=cr(e);for(let u of l){let s=Object.getOwnPropertyDescriptor(e,u);if(!s)continue;let c=Be(e[u],t,r);r.forceWritable?Object.defineProperty(i,u,{enumerable:s.enumerable,configurable:!0,writable:!0,value:c}):"get"in s?Object.defineProperty(i,u,{...s,get(){return c}}):Object.defineProperty(i,u,{...s,value:c})}return i}return e}function dt(e){if(e===void 0)return"undefined";if(e===null)return"null";if(Array.isArray(e))return"array";if(typeof e=="boolean")return"boolean";if(typeof e=="function")return"function";if(typeof e=="number")return"number";if(typeof e=="string")return"string";if(typeof e=="bigint")return"bigint";if(typeof e=="object"){if(e!=null){if(e.constructor===RegExp)return"regexp";if(e.constructor===Map)return"map";if(e.constructor===Set)return"set";if(e.constructor===Date)return"date"}return"object"}else if(typeof e=="symbol")return"symbol";throw new Error(`value of unknown type: ${e}`)}var R=-1,I=1,A=0,N=class{constructor(e,t){q(this,0);q(this,1);this[0]=e,this[1]=t}},Mi=function(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;let r=0,n=Math.min(e.length,t.length),i=n,l=0;for(;r<i;)e.substring(l,i)===t.substring(l,i)?(r=i,l=r):n=i,i=Math.floor((n-r)/2+r);return i},gr=function(e,t){if(!e||!t||e.charAt(e.length-1)!==t.charAt(t.length-1))return 0;let r=0,n=Math.min(e.length,t.length),i=n,l=0;for(;r<i;)e.substring(e.length-i,e.length-l)===t.substring(t.length-i,t.length-l)?(r=i,l=r):n=i,i=Math.floor((n-r)/2+r);return i},wt=function(e,t){let r=e.length,n=t.length;if(r===0||n===0)return 0;r>n?e=e.substring(r-n):r<n&&(t=t.substring(0,r));let i=Math.min(r,n);if(e===t)return i;let l=0,u=1;for(;;){let s=e.substring(i-u),c=t.indexOf(s);if(c===-1)return l;u+=c,(c===0||e.substring(i-u)===t.substring(0,u))&&(l=u,u++)}},Ii=function(e){let t=!1,r=[],n=0,i=null,l=0,u=0,s=0,c=0,a=0;for(;l<e.length;)e[l][0]===A?(r[n++]=l,u=c,s=a,c=0,a=0,i=e[l][1]):(e[l][0]===I?c+=e[l][1].length:a+=e[l][1].length,i&&i.length<=Math.max(u,s)&&i.length<=Math.max(c,a)&&(e.splice(r[n-1],0,new N(R,i)),e[r[n-1]+1][0]=I,n--,n--,l=n>0?r[n-1]:-1,u=0,s=0,c=0,a=0,i=null,t=!0)),l++;for(t&&hr(e),Pi(e),l=1;l<e.length;){if(e[l-1][0]===R&&e[l][0]===I){let o=e[l-1][1],h=e[l][1],y=wt(o,h),f=wt(h,o);y>=f?(y>=o.length/2||y>=h.length/2)&&(e.splice(l,0,new N(A,h.substring(0,y))),e[l-1][1]=o.substring(0,o.length-y),e[l+1][1]=h.substring(y),l++):(f>=o.length/2||f>=h.length/2)&&(e.splice(l,0,new N(A,o.substring(0,f))),e[l-1][0]=I,e[l-1][1]=h.substring(0,h.length-f),e[l+1][0]=R,e[l+1][1]=o.substring(f),l++),l++}l++}},Ct=/[^a-z0-9]/i,Tt=/\s/,Nt=/[\r\n]/,Ri=/\n\r?\n$/,Li=/^\r?\n\r?\n/;function Pi(e){let t=1;for(;t<e.length-1;){if(e[t-1][0]===A&&e[t+1][0]===A){let r=e[t-1][1],n=e[t][1],i=e[t+1][1],l=gr(r,n);if(l){let o=n.substring(n.length-l);r=r.substring(0,r.length-l),n=o+n.substring(0,n.length-l),i=o+i}let u=r,s=n,c=i,a=be(r,n)+be(n,i);for(;n.charAt(0)===i.charAt(0);){r+=n.charAt(0),n=n.substring(1)+i.charAt(0),i=i.substring(1);let o=be(r,n)+be(n,i);o>=a&&(a=o,u=r,s=n,c=i)}e[t-1][1]!==u&&(u?e[t-1][1]=u:(e.splice(t-1,1),t--),e[t][1]=s,c?e[t+1][1]=c:(e.splice(t+1,1),t--))}t++}}function hr(e){e.push(new N(A,""));let t=0,r=0,n=0,i="",l="",u;for(;t<e.length;)switch(e[t][0]){case I:n++,l+=e[t][1],t++;break;case R:r++,i+=e[t][1],t++;break;case A:r+n>1?(r!==0&&n!==0&&(u=Mi(l,i),u!==0&&(t-r-n>0&&e[t-r-n-1][0]===A?e[t-r-n-1][1]+=l.substring(0,u):(e.splice(0,0,new N(A,l.substring(0,u))),t++),l=l.substring(u),i=i.substring(u)),u=gr(l,i),u!==0&&(e[t][1]=l.substring(l.length-u)+e[t][1],l=l.substring(0,l.length-u),i=i.substring(0,i.length-u))),t-=r+n,e.splice(t,r+n),i.length&&(e.splice(t,0,new N(R,i)),t++),l.length&&(e.splice(t,0,new N(I,l)),t++),t++):t!==0&&e[t-1][0]===A?(e[t-1][1]+=e[t][1],e.splice(t,1)):t++,n=0,r=0,i="",l="";break}e[e.length-1][1]===""&&e.pop();let s=!1;for(t=1;t<e.length-1;)e[t-1][0]===A&&e[t+1][0]===A&&(e[t][1].substring(e[t][1].length-e[t-1][1].length)===e[t-1][1]?(e[t][1]=e[t-1][1]+e[t][1].substring(0,e[t][1].length-e[t-1][1].length),e[t+1][1]=e[t-1][1]+e[t+1][1],e.splice(t-1,1),s=!0):e[t][1].substring(0,e[t+1][1].length)===e[t+1][1]&&(e[t-1][1]+=e[t+1][1],e[t][1]=e[t][1].substring(e[t+1][1].length)+e[t+1][1],e.splice(t+1,1),s=!0)),t++;s&&hr(e)}function be(e,t){if(!e||!t)return 6;let r=e.charAt(e.length-1),n=t.charAt(0),i=r.match(Ct),l=n.match(Ct),u=i&&r.match(Tt),s=l&&n.match(Tt),c=u&&r.match(Nt),a=s&&n.match(Nt),o=c&&e.match(Ri),h=a&&t.match(Li);return o||h?5:c||a?4:i&&!u&&s?3:u||s?2:i||l?1:0}var fr="Compared values have no visual difference.",Di="Compared values serialize to the same structure.\nPrinting internal object structure without calling `toJSON` instead.",_e={},At;function ji(){if(At)return _e;At=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=y;let e="diff-sequences",t=0,r=(f,m,p,g,b)=>{let S=0;for(;f<m&&p<g&&b(f,p);)f+=1,p+=1,S+=1;return S},n=(f,m,p,g,b)=>{let S=0;for(;f<=m&&p<=g&&b(m,g);)m-=1,g-=1,S+=1;return S},i=(f,m,p,g,b,S,d)=>{let _=0,$=-f,E=S[_],O=E;S[_]+=r(E+1,m,g+E-$+1,p,b);let T=f<d?f:d;for(_+=1,$+=2;_<=T;_+=1,$+=2){if(_!==f&&O<S[_])E=S[_];else if(E=O+1,m<=E)return _-1;O=S[_],S[_]=E+r(E+1,m,g+E-$+1,p,b)}return d},l=(f,m,p,g,b,S,d)=>{let _=0,$=f,E=S[_],O=E;S[_]-=n(m,E-1,p,g+E-$-1,b);let T=f<d?f:d;for(_+=1,$-=2;_<=T;_+=1,$-=2){if(_!==f&&S[_]<O)E=S[_];else if(E=O-1,E<m)return _-1;O=S[_],S[_]=E-n(m,E-1,p,g+E-$-1,b)}return d},u=(f,m,p,g,b,S,d,_,$,E,O)=>{let T=g-m,G=p-m,D=b-g-G,L=-D-(f-1),F=-D+(f-1),B=t,H=f<_?f:_;for(let w=0,M=-f;w<=H;w+=1,M+=2){let J=w===0||w!==f&&B<d[w],j=J?d[w]:B,k=J?j:j+1,X=T+k-M,z=r(k+1,p,X+1,b,S),U=k+z;if(B=d[w],d[w]=U,L<=M&&M<=F){let ne=(f-1-(M+D))/2;if(ne<=E&&$[ne]-1<=U){let ee=T+j-(J?M+1:M-1),x=n(m,j,g,ee,S),Y=j-x,ue=ee-x,se=Y+1,we=ue+1;O.nChangePreceding=f-1,f-1===se+we-m-g?(O.aEndPreceding=m,O.bEndPreceding=g):(O.aEndPreceding=se,O.bEndPreceding=we),O.nCommonPreceding=x,x!==0&&(O.aCommonPreceding=se,O.bCommonPreceding=we),O.nCommonFollowing=z,z!==0&&(O.aCommonFollowing=k+1,O.bCommonFollowing=X+1);let Ze=U+1,Qe=X+z+1;return O.nChangeFollowing=f-1,f-1===p+b-Ze-Qe?(O.aStartFollowing=p,O.bStartFollowing=b):(O.aStartFollowing=Ze,O.bStartFollowing=Qe),!0}}}return!1},s=(f,m,p,g,b,S,d,_,$,E,O)=>{let T=b-p,G=p-m,D=b-g-G,L=D-f,F=D+f,B=t,H=f<E?f:E;for(let w=0,M=f;w<=H;w+=1,M-=2){let J=w===0||w!==f&&$[w]<B,j=J?$[w]:B,k=J?j:j-1,X=T+k-M,z=n(m,k-1,g,X-1,S),U=k-z;if(B=$[w],$[w]=U,L<=M&&M<=F){let ne=(f+(M-D))/2;if(ne<=_&&U-1<=d[ne]){let ee=X-z;if(O.nChangePreceding=f,f===U+ee-m-g?(O.aEndPreceding=m,O.bEndPreceding=g):(O.aEndPreceding=U,O.bEndPreceding=ee),O.nCommonPreceding=z,z!==0&&(O.aCommonPreceding=U,O.bCommonPreceding=ee),O.nChangeFollowing=f-1,f===1)O.nCommonFollowing=0,O.aStartFollowing=p,O.bStartFollowing=b;else{let x=T+j-(J?M-1:M+1),Y=r(j,p,x,b,S);O.nCommonFollowing=Y,Y!==0&&(O.aCommonFollowing=j,O.bCommonFollowing=x);let ue=j+Y,se=x+Y;f-1===p+b-ue-se?(O.aStartFollowing=p,O.bStartFollowing=b):(O.aStartFollowing=ue,O.bStartFollowing=se)}return!0}}}return!1},c=(f,m,p,g,b,S,d,_,$)=>{let E=g-m,O=b-p,T=p-m,G=b-g,D=G-T,L=T,F=T;if(d[0]=m-1,_[0]=p,D%2===0){let B=(f||D)/2,H=(T+G)/2;for(let w=1;w<=H;w+=1)if(L=i(w,p,b,E,S,d,L),w<B)F=l(w,m,g,O,S,_,F);else if(s(w,m,p,g,b,S,d,L,_,F,$))return}else{let B=((f||D)+1)/2,H=(T+G+1)/2,w=1;for(L=i(w,p,b,E,S,d,L),w+=1;w<=H;w+=1)if(F=l(w-1,m,g,O,S,_,F),w<B)L=i(w,p,b,E,S,d,L);else if(u(w,m,p,g,b,S,d,L,_,F,$))return}throw new Error(`${e}: no overlap aStart=${m} aEnd=${p} bStart=${g} bEnd=${b}`)},a=(f,m,p,g,b,S,d,_,$,E)=>{if(b-g<p-m){if(S=!S,S&&d.length===1){let{foundSubsequence:ne,isCommon:ee}=d[0];d[1]={foundSubsequence:(x,Y,ue)=>{ne(x,ue,Y)},isCommon:(x,Y)=>ee(Y,x)}}let z=m,U=p;m=g,p=b,g=z,b=U}let{foundSubsequence:O,isCommon:T}=d[S?1:0];c(f,m,p,g,b,T,_,$,E);let{nChangePreceding:G,aEndPreceding:D,bEndPreceding:L,nCommonPreceding:F,aCommonPreceding:B,bCommonPreceding:H,nCommonFollowing:w,aCommonFollowing:M,bCommonFollowing:J,nChangeFollowing:j,aStartFollowing:k,bStartFollowing:X}=E;m<D&&g<L&&a(G,m,D,g,L,S,d,_,$,E),F!==0&&O(F,B,H),w!==0&&O(w,M,J),k<p&&X<b&&a(j,k,p,X,b,S,d,_,$,E)},o=(f,m)=>{if(typeof m!="number")throw new TypeError(`${e}: ${f} typeof ${typeof m} is not a number`);if(!Number.isSafeInteger(m))throw new RangeError(`${e}: ${f} value ${m} is not a safe integer`);if(m<0)throw new RangeError(`${e}: ${f} value ${m} is a negative integer`)},h=(f,m)=>{let p=typeof m;if(p!=="function")throw new TypeError(`${e}: ${f} typeof ${p} is not a function`)};function y(f,m,p,g){o("aLength",f),o("bLength",m),h("isCommon",p),h("foundSubsequence",g);let b=r(0,f,0,m,p);if(b!==0&&g(b,0,0),f!==b||m!==b){let S=b,d=b,_=n(S,f-1,d,m-1,p),$=f-_,E=m-_,O=b+_;f!==O&&m!==O&&a(0,S,$,d,E,!1,[{foundSubsequence:g,isCommon:p}],[t],[t],{aCommonFollowing:t,aCommonPreceding:t,aEndPreceding:t,aStartFollowing:t,bCommonFollowing:t,bCommonPreceding:t,bEndPreceding:t,bStartFollowing:t,nChangeFollowing:t,nChangePreceding:t,nCommonFollowing:t,nCommonPreceding:t}),_!==0&&g(_,$,E)}}return _e}var Fi=ji(),mr=Ti(Fi);function Bi(e,t){return e.replace(/\s+$/,r=>t(r))}function Je(e,t,r,n,i,l){return e.length!==0?r(`${n} ${Bi(e,i)}`):n!==" "?r(n):t&&l.length!==0?r(`${n} ${l}`):""}function pr(e,t,{aColor:r,aIndicator:n,changeLineTrailingSpaceColor:i,emptyFirstOrLastLinePlaceholder:l}){return Je(e,t,r,n,i,l)}function yr(e,t,{bColor:r,bIndicator:n,changeLineTrailingSpaceColor:i,emptyFirstOrLastLinePlaceholder:l}){return Je(e,t,r,n,i,l)}function br(e,t,{commonColor:r,commonIndicator:n,commonLineTrailingSpaceColor:i,emptyFirstOrLastLinePlaceholder:l}){return Je(e,t,r,n,i,l)}function Mt(e,t,r,n,{patchColor:i}){return i(`@@ -${e+1},${t-e} +${r+1},${n-r} @@`)}function xi(e,t){let r=e.length,n=t.contextLines,i=n+n,l=r,u=!1,s=0,c=0;for(;c!==r;){let _=c;for(;c!==r&&e[c][0]===A;)c+=1;if(_!==c)if(_===0)c>n&&(l-=c-n,u=!0);else if(c===r){let $=c-_;$>n&&(l-=$-n,u=!0)}else{let $=c-_;$>i&&(l-=$-i,s+=1)}for(;c!==r&&e[c][0]!==A;)c+=1}let a=s!==0||u;s!==0?l+=s+1:u&&(l+=1);let o=l-1,h=[],y=0;a&&h.push("");let f=0,m=0,p=0,g=0,b=_=>{let $=h.length;h.push(br(_,$===0||$===o,t)),p+=1,g+=1},S=_=>{let $=h.length;h.push(pr(_,$===0||$===o,t)),p+=1},d=_=>{let $=h.length;h.push(yr(_,$===0||$===o,t)),g+=1};for(c=0;c!==r;){let _=c;for(;c!==r&&e[c][0]===A;)c+=1;if(_!==c)if(_===0){c>n&&(_=c-n,f=_,m=_,p=f,g=m);for(let $=_;$!==c;$+=1)b(e[$][1])}else if(c===r){let $=c-_>n?_+n:c;for(let E=_;E!==$;E+=1)b(e[E][1])}else{let $=c-_;if($>i){let E=_+n;for(let T=_;T!==E;T+=1)b(e[T][1]);h[y]=Mt(f,p,m,g,t),y=h.length,h.push("");let O=$-i;f=p+O,m=g+O,p=f,g=m;for(let T=c-n;T!==c;T+=1)b(e[T][1])}else for(let E=_;E!==c;E+=1)b(e[E][1])}for(;c!==r&&e[c][0]===R;)S(e[c][1]),c+=1;for(;c!==r&&e[c][0]===I;)d(e[c][1]),c+=1}return a&&(h[y]=Mt(f,p,m,g,t)),h.join(`
`)}function ki(e,t){return e.map((r,n,i)=>{let l=r[1],u=n===0||n===i.length-1;switch(r[0]){case R:return pr(l,u,t);case I:return yr(l,u,t);default:return br(l,u,t)}}).join(`
`)}var Re=e=>e,_r=5,zi=0;function Ui(){return{aAnnotation:"Expected",aColor:v.green,aIndicator:"-",bAnnotation:"Received",bColor:v.red,bIndicator:"+",changeColor:v.inverse,changeLineTrailingSpaceColor:Re,commonColor:v.dim,commonIndicator:" ",commonLineTrailingSpaceColor:Re,compareKeys:void 0,contextLines:_r,emptyFirstOrLastLinePlaceholder:"",expand:!0,includeChangeCounts:!1,omitAnnotationLines:!1,patchColor:v.yellow,truncateThreshold:zi,truncateAnnotation:"... Diff result is truncated",truncateAnnotationColor:Re}}function Ki(e){return e&&typeof e=="function"?e:void 0}function Wi(e){return typeof e=="number"&&Number.isSafeInteger(e)&&e>=0?e:_r}function le(e={}){return{...Ui(),...e,compareKeys:Ki(e.compareKeys),contextLines:Wi(e.contextLines)}}function ce(e){return e.length===1&&e[0].length===0}function Yi(e){let t=0,r=0;return e.forEach(n=>{switch(n[0]){case R:t+=1;break;case I:r+=1;break}}),{a:t,b:r}}function qi({aAnnotation:e,aColor:t,aIndicator:r,bAnnotation:n,bColor:i,bIndicator:l,includeChangeCounts:u,omitAnnotationLines:s},c){if(s)return"";let a="",o="";if(u){let f=String(c.a),m=String(c.b),p=n.length-e.length,g=" ".repeat(Math.max(0,p)),b=" ".repeat(Math.max(0,-p)),S=m.length-f.length,d=" ".repeat(Math.max(0,S)),_=" ".repeat(Math.max(0,-S));a=`${g}  ${r} ${d}${f}`,o=`${b}  ${l} ${_}${m}`}let h=`${r} ${e}${a}`,y=`${l} ${n}${o}`;return`${t(h)}
${i(y)}

`}function Xe(e,t,r){return qi(r,Yi(e))+(r.expand?ki(e,r):xi(e,r))+(t?r.truncateAnnotationColor(`
${r.truncateAnnotation}`):"")}function de(e,t,r){let n=le(r),[i,l]=Sr(ce(e)?[]:e,ce(t)?[]:t,n);return Xe(i,l,n)}function Vi(e,t,r,n,i){if(ce(e)&&ce(r)&&(e=[],r=[]),ce(t)&&ce(n)&&(t=[],n=[]),e.length!==r.length||t.length!==n.length)return de(e,t,i);let[l,u]=Sr(r,n,i),s=0,c=0;return l.forEach(a=>{switch(a[0]){case R:a[1]=e[s],s+=1;break;case I:a[1]=t[c],c+=1;break;default:a[1]=t[c],s+=1,c+=1}}),Xe(l,u,le(i))}function Sr(e,t,r){let n=(r==null?void 0:r.truncateThreshold)??!1,i=Math.max(Math.floor((r==null?void 0:r.truncateThreshold)??0),0),l=n?Math.min(e.length,i):e.length,u=n?Math.min(t.length,i):t.length,s=l!==e.length||u!==t.length,c=(y,f)=>e[y]===t[f],a=[],o=0,h=0;for(mr(l,u,c,(y,f,m)=>{for(;o!==f;o+=1)a.push(new N(R,e[o]));for(;h!==m;h+=1)a.push(new N(I,t[h]));for(;y!==0;y-=1,o+=1,h+=1)a.push(new N(A,t[h]))});o!==l;o+=1)a.push(new N(R,e[o]));for(;h!==u;h+=1)a.push(new N(I,t[h]));return[a,s]}function It(e){return e.includes(`\r
`)?`\r
`:`
`}function Gi(e,t,r){let n=(r==null?void 0:r.truncateThreshold)??!1,i=Math.max(Math.floor((r==null?void 0:r.truncateThreshold)??0),0),l=e.length,u=t.length;if(n){let y=e.includes(`
`),f=t.includes(`
`),m=It(e),p=It(t),g=y?`${e.split(m,i).join(m)}
`:e,b=f?`${t.split(p,i).join(p)}
`:t;l=g.length,u=b.length}let s=l!==e.length||u!==t.length,c=(y,f)=>e[y]===t[f],a=0,o=0,h=[];return mr(l,u,c,(y,f,m)=>{a!==f&&h.push(new N(R,e.slice(a,f))),o!==m&&h.push(new N(I,t.slice(o,m))),a=f+y,o=m+y,h.push(new N(A,t.slice(m,o)))}),a!==l&&h.push(new N(R,e.slice(a))),o!==u&&h.push(new N(I,t.slice(o))),[h,s]}function Hi(e,t,r){return t.reduce((n,i)=>n+(i[0]===A?i[1]:i[0]===e&&i[1].length!==0?r(i[1]):""),"")}var Rt=class{constructor(e,t){q(this,"op");q(this,"line");q(this,"lines");q(this,"changeColor");this.op=e,this.line=[],this.lines=[],this.changeColor=t}pushSubstring(e){this.pushDiff(new N(this.op,e))}pushLine(){this.lines.push(this.line.length!==1?new N(this.op,Hi(this.op,this.line,this.changeColor)):this.line[0][0]===this.op?this.line[0]:new N(this.op,this.line[0][1])),this.line.length=0}isLineEmpty(){return this.line.length===0}pushDiff(e){this.line.push(e)}align(e){let t=e[1];if(t.includes(`
`)){let r=t.split(`
`),n=r.length-1;r.forEach((i,l)=>{l<n?(this.pushSubstring(i),this.pushLine()):i.length!==0&&this.pushSubstring(i)})}else this.pushDiff(e)}moveLinesTo(e){this.isLineEmpty()||this.pushLine(),e.push(...this.lines),this.lines.length=0}},Ji=class{constructor(e,t){q(this,"deleteBuffer");q(this,"insertBuffer");q(this,"lines");this.deleteBuffer=e,this.insertBuffer=t,this.lines=[]}pushDiffCommonLine(e){this.lines.push(e)}pushDiffChangeLines(e){let t=e[1].length===0;(!t||this.deleteBuffer.isLineEmpty())&&this.deleteBuffer.pushDiff(e),(!t||this.insertBuffer.isLineEmpty())&&this.insertBuffer.pushDiff(e)}flushChangeLines(){this.deleteBuffer.moveLinesTo(this.lines),this.insertBuffer.moveLinesTo(this.lines)}align(e){let t=e[0],r=e[1];if(r.includes(`
`)){let n=r.split(`
`),i=n.length-1;n.forEach((l,u)=>{if(u===0){let s=new N(t,l);this.deleteBuffer.isLineEmpty()&&this.insertBuffer.isLineEmpty()?(this.flushChangeLines(),this.pushDiffCommonLine(s)):(this.pushDiffChangeLines(s),this.flushChangeLines())}else u<i?this.pushDiffCommonLine(new N(t,l)):l.length!==0&&this.pushDiffChangeLines(new N(t,l))})}else this.pushDiffChangeLines(e)}getLines(){return this.flushChangeLines(),this.lines}};function Xi(e,t){let r=new Rt(R,t),n=new Rt(I,t),i=new Ji(r,n);return e.forEach(l=>{switch(l[0]){case R:r.align(l);break;case I:n.align(l);break;default:i.align(l)}}),i.getLines()}function Zi(e,t){if(t){let r=e.length-1;return e.some((n,i)=>n[0]===A&&(i!==r||n[1]!==`
`))}return e.some(r=>r[0]===A)}function Qi(e,t,r){if(e!==t&&e.length!==0&&t.length!==0){let n=e.includes(`
`)||t.includes(`
`),[i,l]=Or(n?`${e}
`:e,n?`${t}
`:t,!0,r);if(Zi(i,n)){let u=le(r),s=Xi(i,u.changeColor);return Xe(s,l,u)}}return de(e.split(`
`),t.split(`
`),r)}function Or(e,t,r,n){let[i,l]=Gi(e,t,n);return Ii(i),[i,l]}function xe(e,t){let{commonColor:r}=le(t);return r(e)}var{AsymmetricMatcher:vi,DOMCollection:el,DOMElement:tl,Immutable:rl,ReactElement:nl,ReactTestComponent:il}=ur,$r=[il,nl,tl,el,rl,vi],ke={plugins:$r},Er={callToJSON:!1,maxDepth:10,plugins:$r};function ll(e,t,r){if(Object.is(e,t))return"";let n=dt(e),i=n,l=!1;if(n==="object"&&typeof e.asymmetricMatch=="function"){if(e.$$typeof!==Symbol.for("jest.asymmetricMatcher")||typeof e.getExpectedType!="function")return;i=e.getExpectedType(),l=i==="string"}if(i!==dt(t)){let{aAnnotation:u,aColor:s,aIndicator:c,bAnnotation:a,bColor:o,bIndicator:h}=le(r),y=ze(Er,r),f=V(e,y),m=V(t,y),p=`${s(`${c} ${u}:`)} 
${f}`,g=`${o(`${h} ${a}:`)} 
${m}`;return`${p}

${g}`}if(!l)switch(n){case"string":return de(e.split(`
`),t.split(`
`),r);case"boolean":case"number":return ul(e,t,r);case"map":return Le(Lt(e),Lt(t),r);case"set":return Le(Pt(e),Pt(t),r);default:return Le(e,t,r)}}function ul(e,t,r){let n=V(e,ke),i=V(t,ke);return n===i?"":de(n.split(`
`),i.split(`
`),r)}function Lt(e){return new Map(Array.from(e.entries()).sort())}function Pt(e){return new Set(Array.from(e.values()).sort())}function Le(e,t,r){let n,i=!1;try{let u=ze(ke,r);n=Dt(e,t,u,r)}catch{i=!0}let l=xe(fr,r);if(n===void 0||n===l){let u=ze(Er,r);n=Dt(e,t,u,r),n!==l&&!i&&(n=`${xe(Di,r)}

${n}`)}return n}function ze(e,t){let{compareKeys:r}=le(t);return{...e,compareKeys:r}}function Dt(e,t,r,n){let i={...r,indent:0},l=V(e,i),u=V(t,i);if(l===u)return xe(fr,n);{let s=V(e,r),c=V(t,r);return Vi(s.split(`
`),c.split(`
`),l.split(`
`),u.split(`
`),n)}}var jt=2e4;function Ft(e){return Fe(e)==="Object"&&typeof e.asymmetricMatch=="function"}function Bt(e,t){let r=Fe(e),n=Fe(t);return r===n&&(r==="Object"||r==="Array")}function sl(e,t,r){let{aAnnotation:n,bAnnotation:i}=le(r);if(typeof e=="string"&&typeof t=="string"&&e.length>0&&t.length>0&&e.length<=jt&&t.length<=jt&&e!==t){if(e.includes(`
`)||t.includes(`
`))return Qi(t,e,r);let[a]=Or(t,e),o=a.some(m=>m[0]===A),h=ol(n,i),y=h(n)+gl(xt(a,R,o)),f=h(i)+al(xt(a,I,o));return`${y}
${f}`}let l=Et(e,{forceWritable:!0}),u=Et(t,{forceWritable:!0}),{replacedExpected:s,replacedActual:c}=dr(l,u);return ll(s,c,r)}function dr(e,t,r=new WeakSet,n=new WeakSet){return Bt(e,t)?r.has(e)||n.has(t)?{replacedActual:e,replacedExpected:t}:(r.add(e),n.add(t),cr(t).forEach(i=>{let l=t[i],u=e[i];if(Ft(l))l.asymmetricMatch(u)&&(e[i]=l);else if(Ft(u))u.asymmetricMatch(l)&&(t[i]=u);else if(Bt(u,l)){let s=dr(u,l,r,n);e[i]=s.replacedActual,t[i]=s.replacedExpected}}),{replacedActual:e,replacedExpected:t}):{replacedActual:e,replacedExpected:t}}function ol(...e){let t=e.reduce((r,n)=>n.length>r?n.length:r,0);return r=>`${r}: ${" ".repeat(t-r.length)}`}var cl="·";function wr(e){return e.replace(/\s+$/gm,t=>cl.repeat(t.length))}function al(e){return v.red(wr(ye(e)))}function gl(e){return v.green(wr(ye(e)))}function xt(e,t,r){return e.reduce((n,i)=>n+(i[0]===A?i[1]:i[0]===t?r?v.inverse(i[1]):i[1]:""),"")}var hl="@@__IMMUTABLE_RECORD__@@",fl="@@__IMMUTABLE_ITERABLE__@@";function ml(e){return e&&(e[fl]||e[hl])}var pl=Object.getPrototypeOf({});function kt(e){return e instanceof Error?`<unserializable>: ${e.message}`:typeof e=="string"?`<unserializable>: ${e}`:"<unserializable>"}function ae(e,t=new WeakMap){if(!e||typeof e=="string")return e;if(typeof e=="function")return`Function<${e.name||"anonymous"}>`;if(typeof e=="symbol")return e.toString();if(typeof e!="object")return e;if(ml(e))return ae(e.toJSON(),t);if(e instanceof Promise||e.constructor&&e.constructor.prototype==="AsyncFunction")return"Promise";if(typeof Element<"u"&&e instanceof Element)return e.tagName;if(typeof e.asymmetricMatch=="function")return`${e.toString()} ${Ci(e.sample)}`;if(typeof e.toJSON=="function")return ae(e.toJSON(),t);if(t.has(e))return t.get(e);if(Array.isArray(e)){let r=new Array(e.length);return t.set(e,r),e.forEach((n,i)=>{try{r[i]=ae(n,t)}catch(l){r[i]=kt(l)}}),r}else{let r=Object.create(null);t.set(e,r);let n=e;for(;n&&n!==pl;)Object.getOwnPropertyNames(n).forEach(i=>{if(!(i in r))try{r[i]=ae(e[i],t)}catch(l){delete r[i],r[i]=kt(l)}}),n=Object.getPrototypeOf(n);return r}}function yl(e){return e.replace(/__(vite_ssr_import|vi_import)_\d+__\./g,"")}function Cr(e,t,r=new WeakSet){if(!e||typeof e!="object")return{message:String(e)};let n=e;n.stack&&(n.stackStr=String(n.stack)),n.name&&(n.nameStr=String(n.name)),(n.showDiff||n.showDiff===void 0&&n.expected!==void 0&&n.actual!==void 0)&&(n.diff=sl(n.actual,n.expected,{...t,...n.diffOptions})),typeof n.expected!="string"&&(n.expected=ye(n.expected,10)),typeof n.actual!="string"&&(n.actual=ye(n.actual,10));try{typeof n.message=="string"&&(n.message=yl(n.message))}catch{}try{!r.has(n)&&typeof n.cause=="object"&&(r.add(n),n.cause=Cr(n.cause,t,r))}catch{}try{return ae(n)}catch(i){return ae(new Error(`Failed to fully serialize error: ${i==null?void 0:i.message}
Inner error message: ${n==null?void 0:n.message}`))}}var bl=(e=>(e.DONE="done",e.ERROR="error",e.ACTIVE="active",e.WAITING="waiting",e))(bl||{}),Q={CALL:"storybook/instrumenter/call",SYNC:"storybook/instrumenter/sync",START:"storybook/instrumenter/start",BACK:"storybook/instrumenter/back",GOTO:"storybook/instrumenter/goto",NEXT:"storybook/instrumenter/next",END:"storybook/instrumenter/end"},zt={start:!1,back:!1,goto:!1,next:!1,end:!1},_l=new Error("This function ran after the play function completed. Did you forget to `await` it?"),Ut=e=>Object.prototype.toString.call(e)==="[object Object]",Sl=e=>Object.prototype.toString.call(e)==="[object Module]",Ol=e=>{if(!Ut(e)&&!Sl(e))return!1;if(e.constructor===void 0)return!0;let t=e.constructor.prototype;return!!Ut(t)},$l=e=>{try{return new e.constructor}catch{return{}}},Pe=()=>({renderPhase:void 0,isDebugging:!1,isPlaying:!1,isLocked:!1,cursor:0,calls:[],shadowCalls:[],callRefsByResult:new Map,chainedCallIds:new Set,ancestors:[],playUntil:void 0,resolvers:{},syncTimeout:void 0}),Kt=(e,t=!1)=>{let r=(t?e.shadowCalls:e.calls).filter(i=>i.retain);if(!r.length)return;let n=new Map(Array.from(e.callRefsByResult.entries()).filter(([,i])=>i.retain));return{cursor:r.length,calls:r,callRefsByResult:n}},El=class{constructor(){var u;this.initialized=!1,this.channel=Rr.getChannel(),this.state=((u=P.window)==null?void 0:u.parent.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER_STATE__)||{};let e=({storyId:s,isPlaying:c=!0,isDebugging:a=!1})=>{let o=this.getState(s);this.setState(s,{...Pe(),...Kt(o,a),shadowCalls:a?o.shadowCalls:[],chainedCallIds:a?o.chainedCallIds:new Set,playUntil:a?o.playUntil:void 0,isPlaying:c,isDebugging:a}),this.sync(s)};this.channel.on(ve,e),this.channel.on(Mr,({storyId:s,newPhase:c})=>{let{isDebugging:a}=this.getState(s);this.setState(s,{renderPhase:c}),c==="preparing"&&a&&e({storyId:s}),c==="playing"&&e({storyId:s,isDebugging:a}),c==="played"&&this.setState(s,{isLocked:!1,isPlaying:!1,isDebugging:!1}),c==="errored"&&this.setState(s,{isLocked:!1,isPlaying:!1})}),this.channel.on(Ir,()=>{this.initialized?this.cleanup():this.initialized=!0});let t=({storyId:s,playUntil:c})=>{this.getState(s).isDebugging||this.setState(s,({calls:o})=>({calls:[],shadowCalls:o.map(h=>({...h,status:"waiting"})),isDebugging:!0}));let a=this.getLog(s);this.setState(s,({shadowCalls:o})=>{var y;if(c||!a.length)return{playUntil:c};let h=o.findIndex(f=>f.id===a[0].callId);return{playUntil:(y=o.slice(0,h).filter(f=>{var m;return f.interceptable&&!((m=f.ancestors)!=null&&m.length)}).slice(-1)[0])==null?void 0:y.id}}),this.channel.emit(ve,{storyId:s,isDebugging:!0})},r=({storyId:s})=>{var o;let c=this.getLog(s).filter(h=>{var y;return!((y=h.ancestors)!=null&&y.length)}),a=c.reduceRight((h,y,f)=>h>=0||y.status==="waiting"?h:f,-1);t({storyId:s,playUntil:(o=c[a-1])==null?void 0:o.callId})},n=({storyId:s,callId:c})=>{var m;let{calls:a,shadowCalls:o,resolvers:h}=this.getState(s),y=a.find(({id:p})=>p===c),f=o.find(({id:p})=>p===c);if(!y&&f&&Object.values(h).length>0){let p=(m=this.getLog(s).find(g=>g.status==="waiting"))==null?void 0:m.callId;f.id!==p&&this.setState(s,{playUntil:f.id}),Object.values(h).forEach(g=>g())}else t({storyId:s,playUntil:c})},i=({storyId:s})=>{var a;let{resolvers:c}=this.getState(s);if(Object.values(c).length>0)Object.values(c).forEach(o=>o());else{let o=(a=this.getLog(s).find(h=>h.status==="waiting"))==null?void 0:a.callId;o?t({storyId:s,playUntil:o}):l({storyId:s})}},l=({storyId:s})=>{this.setState(s,{playUntil:void 0,isDebugging:!1}),Object.values(this.getState(s).resolvers).forEach(c=>c())};this.channel.on(Q.START,t),this.channel.on(Q.BACK,r),this.channel.on(Q.GOTO,n),this.channel.on(Q.NEXT,i),this.channel.on(Q.END,l)}getState(e){return this.state[e]||Pe()}setState(e,t){var i;let r=this.getState(e),n=typeof t=="function"?t(r):t;this.state={...this.state,[e]:{...r,...n}},(i=P.window)!=null&&i.parent&&(P.window.parent.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER_STATE__=this.state)}cleanup(){var t;this.state=Object.entries(this.state).reduce((r,[n,i])=>{let l=Kt(i);return l&&(r[n]=Object.assign(Pe(),l)),r},{});let e={controlStates:zt,logItems:[]};this.channel.emit(Q.SYNC,e),(t=P.window)!=null&&t.parent&&(P.window.parent.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER_STATE__=this.state)}getLog(e){let{calls:t,shadowCalls:r}=this.getState(e),n=[...r];t.forEach((l,u)=>{n[u]=l});let i=new Set;return n.reduceRight((l,u)=>(u.args.forEach(s=>{s!=null&&s.__callId__&&i.add(s.__callId__)}),u.path.forEach(s=>{s.__callId__&&i.add(s.__callId__)}),(u.interceptable||u.exception)&&!i.has(u.id)&&(l.unshift({callId:u.id,status:u.status,ancestors:u.ancestors}),i.add(u.id)),l),[])}instrument(e,t,r=0){if(!Ol(e))return e;let{mutate:n=!1,path:i=[]}=t,l=t.getKeys?t.getKeys(e,r):Object.keys(e);return r+=1,l.reduce((u,s)=>{let c=wl(e,s);if(typeof(c==null?void 0:c.get)=="function"){let o=()=>{var h,y;return(y=(h=c==null?void 0:c.get)==null?void 0:h.bind(e))==null?void 0:y()};return Object.defineProperty(u,s,{get:()=>this.instrument(o(),{...t,path:i.concat(s)},r)}),u}let a=e[s];return typeof a!="function"?(u[s]=this.instrument(a,{...t,path:i.concat(s)},r),u):"__originalFn__"in a&&typeof a.__originalFn__=="function"?(u[s]=a,u):(u[s]=(...o)=>this.track(s,a,e,o,t),u[s].__originalFn__=a,Object.defineProperty(u[s],"name",{value:s,writable:!1}),Object.keys(a).length>0&&Object.assign(u[s],this.instrument({...a},{...t,path:i.concat(s)},r)),u)},n?e:$l(e))}track(e,t,r,n,i){var p,g,b,S;let l=((p=n==null?void 0:n[0])==null?void 0:p.__storyId__)||((S=(b=(g=P.__STORYBOOK_PREVIEW__)==null?void 0:g.selectionStore)==null?void 0:b.selection)==null?void 0:S.storyId),{cursor:u,ancestors:s}=this.getState(l);this.setState(l,{cursor:u+1});let c=`${s.slice(-1)[0]||l} [${u}] ${e}`,{path:a=[],intercept:o=!1,retain:h=!1}=i,y=typeof o=="function"?o(e,a):o,f={id:c,cursor:u,storyId:l,ancestors:s,path:a,method:e,args:n,interceptable:y,retain:h},m=(y&&!s.length?this.intercept:this.invoke).call(this,t,r,f,i);return this.instrument(m,{...i,mutate:!0,path:[{__callId__:f.id}]})}intercept(e,t,r,n){let{chainedCallIds:i,isDebugging:l,playUntil:u}=this.getState(r.storyId),s=i.has(r.id);return!l||s||u?(u===r.id&&this.setState(r.storyId,{playUntil:void 0}),this.invoke(e,t,r,n)):new Promise(c=>{this.setState(r.storyId,({resolvers:a})=>({isLocked:!1,resolvers:{...a,[r.id]:c}}))}).then(()=>(this.setState(r.storyId,c=>{let{[r.id]:a,...o}=c.resolvers;return{isLocked:!0,resolvers:o}}),this.invoke(e,t,r,n)))}invoke(e,t,r,n){let{callRefsByResult:i,renderPhase:l}=this.getState(r.storyId),u=25,s=(o,h,y)=>{var f,m,p;if(y.includes(o))return"[Circular]";if(y=[...y,o],h>u)return"...";if(i.has(o))return i.get(o);if(o instanceof Array)return o.map(g=>s(g,++h,y));if(o instanceof Date)return{__date__:{value:o.toISOString()}};if(o instanceof Error){let{name:g,message:b,stack:S}=o;return{__error__:{name:g,message:b,stack:S}}}if(o instanceof RegExp){let{flags:g,source:b}=o;return{__regexp__:{flags:g,source:b}}}if(o instanceof((f=P.window)==null?void 0:f.HTMLElement)){let{prefix:g,localName:b,id:S,classList:d,innerText:_}=o,$=Array.from(d);return{__element__:{prefix:g,localName:b,id:S,classNames:$,innerText:_}}}return typeof o=="function"?{__function__:{name:"getMockName"in o?o.getMockName():o.name}}:typeof o=="symbol"?{__symbol__:{description:o.description}}:typeof o=="object"&&((m=o==null?void 0:o.constructor)!=null&&m.name)&&((p=o==null?void 0:o.constructor)==null?void 0:p.name)!=="Object"?{__class__:{name:o.constructor.name}}:Object.prototype.toString.call(o)==="[object Object]"?Object.fromEntries(Object.entries(o).map(([g,b])=>[g,s(b,++h,y)])):o},c={...r,args:r.args.map(o=>s(o,0,[]))};r.path.forEach(o=>{o!=null&&o.__callId__&&this.setState(r.storyId,({chainedCallIds:h})=>({chainedCallIds:new Set(Array.from(h).concat(o.__callId__))}))});let a=o=>{var h;if(o instanceof Error){let{name:y,message:f,stack:m,callId:p=r.id}=o,{showDiff:g=void 0,diff:b=void 0,actual:S=void 0,expected:d=void 0}=o.name==="AssertionError"?Cr(o):o,_={name:y,message:f,stack:m,callId:p,showDiff:g,diff:b,actual:S,expected:d};if(this.update({...c,status:"error",exception:_}),this.setState(r.storyId,$=>({callRefsByResult:new Map([...Array.from($.callRefsByResult.entries()),[o,{__callId__:r.id,retain:r.retain}]])})),(h=r.ancestors)==null?void 0:h.length)throw Object.prototype.hasOwnProperty.call(o,"callId")||Object.defineProperty(o,"callId",{value:r.id}),o}throw o};try{if(l==="played"&&!r.retain)throw _l;let o=(n.getArgs?n.getArgs(r,this.getState(r.storyId)):r.args).map(y=>typeof y!="function"||Object.keys(y).length?y:(...f)=>{let{cursor:m,ancestors:p}=this.getState(r.storyId);this.setState(r.storyId,{cursor:0,ancestors:[...p,r.id]});let g=()=>this.setState(r.storyId,{cursor:m,ancestors:p}),b=!1;try{let S=y(...f);return S instanceof Promise?(b=!0,S.finally(g)):S}finally{b||g()}}),h=e.apply(t,o);return h&&["object","function","symbol"].includes(typeof h)&&this.setState(r.storyId,y=>({callRefsByResult:new Map([...Array.from(y.callRefsByResult.entries()),[h,{__callId__:r.id,retain:r.retain}]])})),this.update({...c,status:h instanceof Promise?"active":"done"}),h instanceof Promise?h.then(y=>(this.update({...c,status:"done"}),y),a):h}catch(o){return a(o)}}update(e){this.channel.emit(Q.CALL,e),this.setState(e.storyId,({calls:t})=>{let r=t.concat(e).reduce((n,i)=>Object.assign(n,{[i.id]:i}),{});return{calls:Object.values(r).sort((n,i)=>n.id.localeCompare(i.id,void 0,{numeric:!0}))}}),this.sync(e.storyId)}sync(e){let t=()=>{var a;let{isLocked:r,isPlaying:n}=this.getState(e),i=this.getLog(e),l=(a=i.filter(({ancestors:o})=>!o.length).find(o=>o.status==="waiting"))==null?void 0:a.callId,u=i.some(o=>o.status==="active");if(r||u||i.length===0){let o={controlStates:zt,logItems:i};this.channel.emit(Q.SYNC,o);return}let s=i.some(o=>o.status==="done"||o.status==="error"),c={controlStates:{start:s,back:s,goto:!0,next:n,end:n},logItems:i,pausedAt:l};this.channel.emit(Q.SYNC,c)};this.setState(e,({syncTimeout:r})=>(clearTimeout(r),{syncTimeout:setTimeout(t,0)}))}};function dl(e,t={}){var r,n,i,l,u,s,c,a;try{let o=!1,h=!1;return(i=(n=(r=P.window)==null?void 0:r.location)==null?void 0:n.search)!=null&&i.includes("instrument=true")?o=!0:(s=(u=(l=P.window)==null?void 0:l.location)==null?void 0:u.search)!=null&&s.includes("instrument=false")&&(h=!0),((c=P.window)==null?void 0:c.parent)===P.window&&!o||h?e:(P.window&&!P.window.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER__&&(P.window.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER__=new El),((a=P.window)==null?void 0:a.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER__).instrument(e,t))}catch(o){return Ar.warn(o),e}}function wl(e,t){let r=e;for(;r!=null;){let n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}var Nl=dl({step:(e,t,r)=>t(r)},{intercept:!0}).step,Al={throwPlayFunctionExceptions:!1};export{Al as parameters,Nl as runStep};
